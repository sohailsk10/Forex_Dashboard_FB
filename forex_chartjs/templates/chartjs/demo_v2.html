{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <style>
    .hidden-element {
      display: none;
    }
    .arrow-up {
      width: 10;
      height: 50;
      border-left: 30px solid transparent;
      border-right: 30px solid transparent;
      border-bottom: 50px solid green;
      display: inline-block;
      margin-right: 10px;
<!--      margin-top: auto;-->
    }
    .arrow-container {
        white-space: nowrap;
    }

    .show {
    display: block; /* or any other styling to make the arrow visible */
  }
  .arrow-down {
      width: 10;
      height: 50;
      border-left: 30px solid transparent;
      border-right: 30px solid transparent;
      border-top: 50px solid red;
      display: inline-block;
      margin-right: 10px;
    }
    .arrow-none{
     display: inline-block;
     margin-right: 10px;
    }
    .show {
    display: block; /* or any other styling to make the arrow visible */
  }



    </style>


    <title>Forex Dashboard</title>
    <script src="https://code.highcharts.com/stock/highstock.js"></script>
    <script src="https://code.highcharts.com/stock/modules/data.js"></script>
    <script src="https://code.highcharts.com/stock/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/stock/modules/export-data.js"></script>
    <script src="https://code.highcharts.com/stock/modules/accessibility.js"></script>
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/highcharts-more.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <script src="https://code.highcharts.com/modules/export-data.js"></script>
    <script src="https://code.highcharts.com/modules/accessibility.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/modules/exporting.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://code.highcharts.com/highcharts.js"></script>
    <script src="https://code.highcharts.com/highcharts-more.js"></script>
    <script src="https://code.highcharts.com/modules/solid-gauge.js"></script>
    <script src='https://cdn.plot.ly/plotly-2.16.1.min.js'></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"
          integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2"
          crossorigin="anonymous"/>
    <!-- Custom styles for this template -->
    <link rel="stylesheet" type="text/css" href="{% static 'css/guage.css' %}"/>
    <link rel="stylesheet" type="text/css" href="{% static 'css/navbar-top-fixed.css' %}"/>

</head>
<body>

<p>Bid Prediction Value:</p>
 <div id="bid_pred" class="center-text bold-text">{{bid_prediction_value}}</div>


<nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
    <div class="container-fluid">
        <a class="navbar-brand" href="#">Forex</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse"
                aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav me-auto mb-2 mb-md-0">
                <li class="nav-item">
                    <a class="nav-link" href="#">Dashboard</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'index' %}">Back Testing</a>
                </li>
            </ul>
        </div>
    </div>
</nav>
<form id="refresh_data">
    <!--<div id="lineChart"></div>-->
    <main class="col-md-12 col-sm-12 col-lg-12 col-md-12">
        <div class="row">
            <div class="col-md-2 col-sm-2 col-lg-2 col-md-2">
                <div class="form-item">
                    <p class="form-heading"> Select Currency </p>

                    <!-- Use the custom-select class -->
                    <select class="custom-select" style="width:150px" name="currency" id="currency">
                        <option value="default">-- SELECT --</option>
                        {% for i in Get_currency%}
                        <option value="{{i.currency_name}}"> {{i.currency_name}}</option>
                        {% endfor %}
                    </select>
                </div>
            </div>
            <div class="col-md-2 col-sm-2 col-lg-2 col-md-2">
                <div class="form-item">
                    <p class="form-heading"> Select Time Interval </p>
                    <select class="custom-select" style="width:150px" name="interval" id="interval">
                        <option value="default">-- SELECT --</option>
                        {% for i in Get_interval%}
                        <option value="{{i.minutes}}">{{i.minutes}}</option>
                        {% endfor %}
                    </select>
                </div>
            </div>
            <div class="col-md-2 col-sm-2 col-lg-2 col-md-2">
                <div class="card status">
                    <div class="current_price_row">
                        <div class="current_price bold-text center-text">Ask Price</div>
                    </div>
                    <div id="ask_price" class="center-text bold-text">{{ask_price}}</div>
                </div>
            </div>
            <div class="col-md-2 col-sm-2 col-lg-2 col-md-2">
                <div class="card status">
                    <div class="current_price_row">
                        <div class="current_price bold-text center-text">Bid Price</div>
                    </div>
                    <div id="bid_price" class="center-text bold-text">{{bid_price}}</div>

                </div>


            </div>
            <div class="row">
                <div id="chart1" style="width: 2200px; height: 500px;"></div>
            </div>


            <!--            <div id="bid_arrow_id">-->
            <!--                &lt;!&ndash;  <div id = "first_bid_arrow"></div>&ndash;&gt;-->
            <!--            </div>-->


            <!--            <div id="ask_arrow_id">-->
            <!--                &lt;!&ndash;  <div id = "first_ask_arrow"></div>&ndash;&gt;-->

        </div>
        <div id="bid_arrow_id"></div>

        <div class="col-md-9 col-sm-9 col-lg-9 col-md-9" style="margin-top: -10px; margin-left: auto;">
            <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3">
                <h1 class="h2">{{currency}} Prediction Bid Table</h1>
                <div class="btn-toolbar mb-2 mb-md-0"></div>
            </div>
            <div class="table-responsive">
                <table class="table table-striped table-sm">
                    <thead>
                    <tr>
                        <th scope="col">MINUTES 1</th>
                        <th scope="col">MINUTES 5</th>
                        <th scope="col">MINUTES 15</th>
                        <th scope="col">MINUTES 30</th>
                        <th scope="col">1 HOUR</th>
                        <th scope="col">4 HOUR</th>
                    </tr>
                    </thead>
                    <tbody id="pred_tbl_body">
                    {% for i in result_bid_tbl %}
                    <tr>
                        {% for j in i %}
                        <td>{{j}}</td>
                        {% endfor %}
                    </tr>
                    {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>


        <div id="ask_arrow_id"></div>

<!--        <div class="col-md-9 col-sm-9 col-lg-9 col-md-12" style="margin-top: -10px; margin-left: auto;">-->
<!--            <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3">-->
<!--                <h1 class="h2">{{currency}} Prediction Ask Table</h1>-->
<!--                <div class="btn-toolbar mb-10 mb-md-0"></div>-->
<!--            </div>-->
<!--            <div class="table-responsive">-->
<!--                <table class="table table-striped table-sm">-->
<!--                    <thead>-->
<!--                    <tr>-->
<!--                        <th scope="col">MINUTES 1</th>-->
<!--                        <th scope="col">MINUTES 5</th>-->
<!--                        <th scope="col">MINUTES 15</th>-->
<!--                        <th scope="col">MINUTES 30</th>-->
<!--                        <th scope="col">1 HOUR</th>-->
<!--                        <th scope="col">4 HOUR</th>-->
<!--                    </tr>-->
<!--                    </thead>-->
<!--                    <tbody id="pred_tbl_body_ask">-->
<!--                    {% for i in result_ask_tbl %}-->
<!--                    <tr>-->
<!--                        {% for j in i %}-->
<!--                        <td>{{j}}</td>-->
<!--                        {% endfor %}-->
<!--                    </tr>-->
<!--                    {% endfor %}-->
<!--                    </tbody>-->
<!--                </table>-->
<!--            </div>-->
<!--        </div>-->


        <main class="col-md-12 ms-sm-auto col-lg-12 px-md-12">

            <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3">
                <h1 class="h2">{{currency}} BID PREDICTION LOGS TABLE</h1>
                <div class="btn-toolbar mb-2 mb-md-0"></div>
            </div>
            <div class="table-wrapper-scroll-y my-custom-scrollbar">
                <div class="table-responsive">
                    <table class="table table-striped table-sm">
                        <thead>
                        <tr>
                            <th scope="col">INTERVAL</th>
                            <th scope="col">Actual TIme</th>
                            <th scope="col">ACTUAL BID</th>
                            <th scope="col">ACTUAL MINMAX BID</th>
                            <th scope="col">BID PREDICTION</th>
                            <th scope="col">PREDICTION DATETIME</th>
                            <th scope="col">ACTUAL DATETIME HIT</th>
                        </tr>
                        </thead>
                        <tbody id="hist_tbl_body_bid">
                        {% for i in result_historical %}
                        <tr>
                            {% for j in i %}
                            <td>{{j}}</td>
                            <script>
                                 {% if loop.index == 4 %}
                                    var prediction = {{ j }}
                                {% endif %}
                            </script>
                            {% endfor %}
                        </tr>

                        {% endfor %}
                        </tbody>

                    </table>
                </div>
<!--                <div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3">-->
<!--                    <h1 class="h2">{{currency}} ASK PREDICTION LOGS TABLE</h1>-->
<!--                    <div class="btn-toolbar mb-2 mb-md-0"></div>-->
<!--                </div>-->
<!--                <div class="table-wrapper-scroll-y my-custom-scrollbar">-->
<!--                    <div class="table-responsive">-->
<!--                        <table class="table table-striped table-sm">-->
<!--                            <thead>-->
<!--                            <tr>-->
<!--                                <th scope="col">INTERVAL</th>-->
<!--                                <th scope="col">Actual TIme</th>-->
<!--                                <th scope="col">ACTUAL ASK</th>-->
<!--                                <th scope="col">ACTUAL MINIMUM ASK</th>-->
<!--                                <th scope="col">ASK PREDICTION</th>-->
<!--                                <th scope="col">PREDICTION DATETIME</th>-->
<!--                                <th scope="col">ACTUAL DATETIME HIT</th>-->
<!--                            </tr>-->
<!--                            </thead>-->
<!--                            <tbody id="hist_tbl_body_ask">-->
<!--                            {% for i in result_historical_ask %}-->
<!--                            <tr>-->
<!--                                {% for j in i %}-->
<!--                                <td>{{j}}</td>-->
<!--                                {% endfor %}-->
<!--                            </tr>-->
<!--                            {% endfor %}-->
<!--                            </tbody>-->

<!--                        </table>-->
<!--                    </div>-->
<!--                </div>-->
            </div>

        </main>
</form>

<script>
let queryParams = new URLSearchParams(window.location.search);

let currency_ = queryParams.get("currency");
let interval = queryParams.get("interval");

if (currency_ == null){
const dd = document.getElementById ('currency');
dd.selectedIndex = [...dd.options].findIndex (option => option.text === "-- SELECT --");
}
else{
const dd = document.getElementById ('currency');
dd.selectedIndex = [...dd.options].findIndex (option => option.text === currency_);
}

if (interval == null){
const dd = document.getElementById ('interval');
dd.selectedIndex = [...dd.options].findIndex (option => option.text === "-- SELECT --");
}
else{
const dd = document.getElementById ('interval');
dd.selectedIndex = [...dd.options].findIndex (option => option.text === interval);
}


var PAGE_URL = "http://127.0.0.1:8000/home/"
console.log("This is started");
var $selectSeries = $('#currency');
console.log($selectSeries);
$selectEpisode = $('#interval');
$episodeOptions = $selectEpisode.find('option');


var params;
var params_;

function onSeriesChange() {
console.log("This is Seires change currency");
  var selectedSeries = $selectSeries.val() || '';
  var selectedEpisode = $selectEpisode.val() || '';
  console.log(selectedSeries);
  console.log("-----"+selectedEpisode);
  params = "?currency="+selectedSeries;

  console.log(params);
  window.location.replace(PAGE_URL+params);
}

function onEpisodeChange() {
console.log("This is Seires change currency");
  var selectedSeries = $selectSeries.val() || '';
  var selectedEpisode = $selectEpisode.val() || '';
  console.log(selectedSeries);
  console.log("-----"+selectedEpisode);
  params = "?currency="+selectedSeries+"&interval="+selectedEpisode;

  window.location.replace(PAGE_URL+params)
}

$selectSeries.on('change', onSeriesChange);
$selectEpisode.on('change', onEpisodeChange);




</script>


<script>

    function bid_prediction(response)
    {
        var result_bid = document.getElementById("pred_tbl_body");
        table_data = '';
        for(var i = 0; i < response.result_bid_tbl.length; i++) {
             var temp1 = "<tr><td>"+response.result_bid_tbl[i][0]+"</td>";
             temp1 += "<td>"+response.result_bid_tbl[i][1]+"</td>";
             temp1 += "<td>"+response.result_bid_tbl[i][2]+"</td>";
             temp1 += "<td>"+response.result_bid_tbl[i][3]+"</td>";
             temp1 += "<td>"+response.result_bid_tbl[i][4]+"</td>";
             temp1 += "<td>"+response.result_bid_tbl[i][5]+"</td></tr>";
             table_data = table_data+temp1;
        }
        result_bid.innerHTML = table_data;
    }

<!--    function ask_prediction(response)-->
<!--    {-->
<!--        var result_ask = document.getElementById("pred_tbl_body_ask");-->
<!--        table_data = '';-->
<!--        for(var i = 0; i < response.result_ask_tbl.length; i++) {-->
<!--             var temp1 = "<tr><td>"+response.result_ask_tbl[i][0]+"</td>";-->
<!--             temp1 += "<td>"+response.result_ask_tbl[i][1]+"</td>";-->
<!--             temp1 += "<td>"+response.result_ask_tbl[i][2]+"</td>";-->
<!--             temp1 += "<td>"+response.result_ask_tbl[i][3]+"</td>";-->
<!--             temp1 += "<td>"+response.result_ask_tbl[i][4]+"</td>";-->
<!--             temp1 += "<td>"+response.result_ask_tbl[i][5]+"</td>";-->
<!--             temp1 += "<td>"+response.result_ask_tbl[i][6]+"</td></tr>";-->
<!--             table_data = table_data+temp1;-->
<!--        }-->
<!--        result_ask.innerHTML = table_data;-->
<!--    }-->

<!--    function historical_ask_tbl(response)-->
<!--    {-->
<!--        var result_historical__ = document.getElementById("hist_tbl_body_ask");-->
<!--        table_data = '';-->
<!--        for(var i = 0; i < response.result_historical_ask.length; i++) {-->
<!--             var temp1 = "<tr><td>"+response.result_historical_ask[i][0]+"</td>";-->
<!--             temp1 += "<td>"+response.result_historical_ask[i][1]+"</td>";-->
<!--             temp1 += "<td>"+response.result_historical_ask[i][2]+"</td>";-->
<!--             temp1 += "<td>"+response.result_historical_ask[i][3]+"</td>";-->
<!--             temp1 += "<td>"+response.result_historical_ask[i][4]+"</td>";-->
<!--             temp1 += "<td>"+response.result_historical_ask[i][5]+"</td>";-->
<!--             temp1 += "<td>"+response.result_historical_ask[i][6]+"</td></tr>";-->
<!--             table_data = table_data+temp1;-->
<!--        }-->
<!--        result_historical__.innerHTML = table_data;-->
<!--    }-->

    function historical_bid_tbl(response)
    {
        var result_historical_bid = document.getElementById("hist_tbl_body_bid");
        table_data = '';
        for(var i = 0; i < response.result_historical.length; i++) {
             var temp1 = "<tr><td>"+response.result_historical[i][0]+"</td>";
             temp1 += "<td>"+response.result_historical[i][1]+"</td>";
             temp1 += "<td>"+response.result_historical[i][2]+"</td>";
             temp1 += "<td>"+response.result_historical[i][3]+"</td>";
             temp1 += "<td>"+response.result_historical[i][4]+"</td>";
             temp1 += "<td>"+response.result_historical[i][5]+"</td>";
             temp1 += "<td>"+response.result_historical[i][6]+"</td></tr>";
             table_data = table_data+temp1;
        }
        result_historical_bid.innerHTML = table_data;
    }


    function getBidData() {
      var newData = [];
      var value = bid_price.textContent;
      newData.push(parseFloat(value));
      return newData;
    }

    function getAskData() {
      var newData = [];
      var value = ask_price.textContent;
      newData.push(parseFloat(value));
      return newData;
    }

<!--&lt;!&ndash;    console.log(get_bid_pred);&ndash;&gt;-->


<!--    function getPredictionData() {-->
<!--      var newData = [];-->
<!--&lt;!&ndash;      var value = 1.29612;&ndash;&gt;-->
<!--       var bidPredictionValue = parseFloat(document.getElementById('bid_pred').innerHTML.trim());-->
<!--        console.log(bidPredictionValue)-->
<!--&lt;!&ndash;      var value =  ask_price.textContent;&ndash;&gt;-->
<!--      newData.push(bidPredictionValue);-->
<!--      return newData;-->
<!--    }-->

<!--    // Call getPredictionData() to get the prediction value-->
<!--var predictionValue = getPredictionData()[0];-->

<!--document.addEventListener('DOMContentLoaded', function() {-->
<!--  var bidPredictionValue = parseFloat(document.getElementById('bid_pred').innerHTML.trim());-->
<!--  console.log(bidPredictionValue);-->
<!--  // Rest of your code...-->
<!--});-->

function updateBidPrediction(response) {

      var getBidPredValue = document.getElementById("bid_pred");
      getBidPredValue.innerHTML = response.get_bid_pred_value;
    }

    function getPlotLineValue() {
      var plotLineValueElement = document.getElementById("bid_pred");
      var plotLineValue = parseFloat(plotLineValueElement.innerHTML);
      updateBidPrediction({ get_bid_pred_value: plotLineValue });
      return plotLineValue;
    }

function updateChart(chart) {

        var dynamicPlotLineValue = getPlotLineValue();

      var plotBands = [{
        from:  dynamicPlotLineValue,
        to:  dynamicPlotLineValue,
        color: 'red',
        borderWidth: 1,
        borderColor: 'red',
        zIndex: 5,
        label: {
          text: 'Vertical Line',
          align: 'right',
          verticalAlign: 'middle',
          rotation: 0,
          style: {
            color: 'white'
          }
        }
      }];


      chart.update({
        yAxis: {
          plotBands: plotBands
        }
      });

      var series1 = chart.series[0]; // Get the first series
      var series2 = chart.series[1]; // Get the second series

      var newData1 = getAskData(); // Get the ask price
      var newData2 = getBidData();

<!--        var bidPredictionValue = parseFloat(document.getElementById('bid_pred').innerHTML.trim());-->
<!--         console.log(bidPredictionValue)-->
      var now = new Date();

      var currentTime = now.getTime();
<!--      var currentTime = now.toLocaleString();-->

      // Retrieve stored chart data from session storage
      sessionStorage.clear();
      var storedData1 = sessionStorage.getItem(chart.options.chart.renderTo + "_series1");
      if (storedData1) {
        series1.setData(JSON.parse(storedData1), false);
      }

      var storedData2 = sessionStorage.getItem(chart.options.chart.renderTo + "_series2");
      if (storedData2) {
        series2.setData(JSON.parse(storedData2), false);
      }

      // Append the new data to series 1
      newData1.forEach(function(point) {
        series1.addPoint([currentTime, point], false, false);
      });

      // Append the new data to series 2
      newData2.forEach(function(point) {
        series2.addPoint([currentTime, point], false, false);
      });

      // Store the updated chart data in the session storage
      sessionStorage.setItem(chart.options.chart.renderTo + "_series1", JSON.stringify(series1.options.data));
      sessionStorage.setItem(chart.options.chart.renderTo + "_series2", JSON.stringify(series2.options.data));

      // Redraw the chart to reflect the changes
      chart.redraw();
    }




    // Initialize charts
    var chart1 = Highcharts.chart('chart1', {
  chart: {
    type: 'line'
  },
  title: {
    text: 'ASK AND BID PRICE'
  },
  xAxis: {
    type: 'datetime',
    dateTimeLabelFormats: {
      millisecond: '%H:%M:%S.%L',
      second: '%H:%M:%S',
      minute: '%H:%M',
      hour: '%H:%M',
      day: '%e %b',
      week: '%e %b',
      month: '%b \'%y',
      year: '%Y'
    }
  },
  series: [{
    name: 'ASK PRICE',
    data: [] // Empty initial data series for series 1
  }, {
    name: 'BID PRICE',
    data: [] // Empty initial data series for series 2
  }],
  plotOptions: {
    line: {
      marker: {
        enabled: false
      }
    }
  },
<!--  yAxis: {-->
<!--    plotBands: [{-->
<!--      color: 'red',-->
<!--      from:  bidPredictionValue, // x-axis value where you want to start the vertical band-->
<!--      to:  bidPredictionValue, // x-axis value where you want to end the vertical band-->
<!--      zIndex: 5,-->
<!--      label: {-->
<!--        text: 'Vertical Line',-->
<!--        align: 'right',-->
<!--        verticalAlign: 'middle',-->
<!--        rotation: 0-->
<!--      }-->
<!--    }]-->
<!--  }-->
});





var ajaxInterval = setInterval(function(){AjaxCurrentPrice_timer()},200);
		function AjaxCurrentPrice_timer()
		{
			$.ajax({
				data: $("#refresh_data").serializeArray(),
				async: true,
				url: "{% url 'get_currency' %}",
                    // on success
                success: function (response) {

                        // document.getElementById("custom-select").value = response.method;
                         console.log("Inside Get Current price data");

                        var element = document.getElementById("ask_price");
                        element.innerHTML = response.ask_price;

                        var bid_price = document.getElementById("bid_price");
                        bid_price.innerHTML = response.bid_price;

                         var bid_prediction_value = document.getElementById("bid_pred");
                        bid_prediction_value.innerHTML = response.bid_prediction_value;


                        var bid_arrow_id = document.getElementById("bid_arrow_id");
                        var first_arrow_bid = document.createElement("div");
                        bid_arrow_id.replaceChildren();
                        if (response.first_bid_arrow_ == "Buy"){
                            first_arrow_bid.classList.add("arrow-up");
                        }
                        else
                        {
                            first_arrow_bid.innerHTML = "=";
                             first_arrow_bid.classList.add("arrow-none");

                        }
                        bid_arrow_id.appendChild(first_arrow_bid);

                        var second_arrow_bid = document.createElement("div");
                        if (response.second_bid_arrow_ == "Strong Buy"){
                           second_arrow_bid.classList.add("arrow-up");
                        }
                        else
                        {
                            second_arrow_bid.innerHTML = "=";
                            second_arrow_bid.classList.add("arrow-none");
                        }
                        bid_arrow_id.appendChild(second_arrow_bid);

                       var third_arrow_bid = document.createElement("div");
                        if (response.third_bid_arrow_ == "Bullish Buy"){
                            third_arrow_bid.classList.add("arrow-up");
                        }
                        else
                        {
                            third_arrow_bid.innerHTML = "=";
                            third_arrow_bid.classList.add("arrow-none");
                        }
                        bid_arrow_id.appendChild(third_arrow_bid);

                        var arrowContainer = document.createElement("div");
                        arrowContainer.classList.add("arrow-container");

<!--                        // Add the arrows to the container-->
<!--                        arrowContainer.appendChild(first_arrow);-->
<!--                        arrowContainer.appendChild(second_arrow);-->
<!--                        arrowContainer.appendChild(third_arrow);-->

<!--                        // Append the container to the bid_arrow_id element-->
                        bid_arrow_id.appendChild(arrowContainer);


<!--                        var ask_arrow_id = document.getElementById("ask_arrow_id");-->
<!--                        var first_arrow_ask = document.createElement("div");-->
<!--                        ask_arrow_id.replaceChildren();-->
<!--                        if (response.first_ask_arrow_ == "Sell"){-->
<!--                            first_arrow_ask.classList.add("arrow-down");-->
<!--                        }-->
<!--                        else-->
<!--                        {-->
<!--                            first_arrow_ask.innerHTML = "=";-->
<!--                             first_arrow_ask.classList.add("arrow-none");-->
<!--                        }-->
<!--                        ask_arrow_id.appendChild(first_arrow_ask);-->
<!--                         var second_arrow_ask = document.createElement("div");-->
<!--                        if (response.second_ask_arrow_ == "Strong Sell"){-->
<!--                            second_arrow_ask.classList.add("arrow-down");-->
<!--                        }-->
<!--                        else-->
<!--                        {-->
<!--                            second_arrow_ask.innerHTML = "=";-->
<!--                             second_arrow_ask.classList.add("arrow-none");-->
<!--                        }-->
<!--                        ask_arrow_id.appendChild(second_arrow_ask);-->

<!--                       var third_arrow_ask = document.createElement("div");-->
<!--                        if (response.third_ask_arrow_ ==  "Bullish Sell"){-->
<!--                            third_arrow_ask.classList.add("arrow-down");-->
<!--                        }-->
<!--                        else-->
<!--                        {-->
<!--                            third_arrow_ask.innerHTML = "=";-->
<!--                             third_arrow_ask.classList.add("arrow-none");-->


<!--                        }-->
<!--                        ask_arrow_id.appendChild(third_arrow_ask);-->



                        updateChart(chart1);
                        bid_prediction(response);
<!--                        ask_prediction(response);-->
                        historical_bid_tbl(response);
<!--                        historical_ask_tbl(response);-->
<!--                        first_arrow(response);-->
<!--                        get_bid_prediction_value(response)-->
                        }
                });
        }




</script>


</body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<script
        src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx"
        crossorigin="anonymous"
></script>

<script
        src="https://cdn.jsdelivr.net/npm/feather-icons@4.28.0/dist/feather.min.js"
        integrity="sha384-uO3SXW5IuS1ZpFPKugNNWqTZRRglnUJK6UAZ/gxOX80nxEkN9NcGZTftn6RzhGWE"
        crossorigin="anonymous">

</script>
<!-- Latest compiled and minified JavaScript -->
<script
        src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/js/bootstrap.min.js"
        crossorigin="anonymous"
></script>
</html>
